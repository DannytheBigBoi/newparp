{% extends "rp/base.html" %}
{% block title%}{% if type == None: %}Your{% else %}{{type|capitalize}}{% endif %} Chats â€“ Charat RP{% endblock %}
{% block header %}
<script>
var logged_in = {{'true' if logged_in else 'false'}};
var chats = {{chats|tojson|safe}};
</script>
<script src="{{url_for('static', filename='js/rp/chats.js')}}" defer></script>
<link rel="stylesheet" media="screen" type="text/css" href="{{url_for('static', filename='css/rp/home.css')}}" />
<link rel="stylesheet" media="screen" type="text/css" href="{{url_for('static', filename='css/rp/front.css')}}" />
<link rel="stylesheet" media="screen" type="text/css" href="{{url_for('static', filename='css/rp/chats.css')}}" />
{% endblock %}

{% block pager %}
{% if paginator.page_count!=1 %}
<div class="pager">
{{paginator.pager(format='~5~')}}
</div>
{% endif %}
{% endblock %}

{% block content %}

<div id="topbar">
    <div id="toptitle">Charat RP</div>
    <div id="topmenu">
        <div class="topborder"></div>
        <a id="goHome" href="{{url_for('home')}}">Home</a>
        <div class="topborder"></div>
        <a id="goHome" href="{{url_for('rp_home')}}">RP Home</a>
        <div class="topborder"></div>
        <a id="goChats" href="{{url_for('chat_list')}}">Chats</a>
        <div class="topborder"></div>
        <a id="goUser" href="">Guide</a>
        <div class="topborder"></div>
        <a id="goUser" href="">Settings</a>
        <div class="topborder"></div>
        {% if logged_in %}
        <a class="logout" href="{{url_for('logout')}}">Logout</a>
        {% else %}
        <a class="login" href="">Login</a>
        {% endif %}
    </div>
</div>

<div class="body">
    <!-- Put in some noscript things -->
    <div id="chat-pages" class="section">
        <div id="page-div">
            <div id="your-pages" class="section">
                <div class="titli">YOUR CHATS</div>
                <div class="card">
                    
                    {% for key in chat_classes|sort: %}
                        {% if type == key: %}
                            {% if key == 'pm': %}
                                <div class="chat-types">Private</div>
                            {% elif key == None: %}
                                <div class="chat-types">All</div>
                            {% else %}
                                <div class="chat-types">{{key|capitalize}}</div>
                            {% endif %}
                        {% else %}
                            {% if key == 'pm': %}
                                <div class="chat-types"><a href="{{url_for('chat_list', type='pm')}}">Private</a></div>
                            {% elif key == None: %}
                                <div class="chat-types"><a href="{{url_for('chat_list')}}">All</a></div>
                            {% else %}
                                <div class="chat-types"><a href="{{url_for('chat_list', type=key)}}">{{key|capitalize}}</a></div>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                    {{ self.pager() }}
                </div>
            </div>
            <div id="new-pages" class="section">
                <div class="titli">NEW CHATS</div>
                <div class="card">
                    <div class="chat-types"><a href="{{url_for('rp_rooms')}}">Rooms</a></div>
                    <div class="chat-types"><a href="">Random</a></div>
                    <div class="chat-types"><a href="">Request</a></div>
                </div>
            </div>
        </div>
        <div class="titli">{% if type == None: %}ALL CHATS{% else %}{{type|upper}} CHATS{% endif %}</div>
        <div id="under-page"></div>
    </div>
</div>
{% endblock %}

