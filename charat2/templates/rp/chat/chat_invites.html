{% extends "base.html" %}
{% block title: %}Invitations to {{chat.title}} - {% endblock %}
{% block content: %}
<h2>Invitations to {{chat.title}}</h2>
{% if invites: %}
{{pager()}}
<table>
    <thead>
        <tr>
            <th>Username</th>
            <th>#</th>
            <th>Character</th>
            <th>Invited by</th>
        </tr>
    </thead>
    <tbody>
        {% for invite, user in invites: %}
        <tr>
            <td>{{user.username}}</td>
            <td>{% if invite.chat_user %}{{invite.chat_user.number}}{% endif %}</td>
            <td>{% if invite.chat_user %}<span style="color: #{{invite.chat_user.color}}">{{invite.chat_user.name}}</span>{% if invite.chat_user.acronym != "": %} [<span style="color: #{{invite.chat_user.color}}">{{invite.chat_user.acronym}}</span>]{% endif %}{% endif %}</td>
            <td>{% if invite.creator_chat_user %}<span style="color: #{{invite.creator_chat_user.color}}">{{invite.creator_chat_user.name}}</span>{% if invite.creator_chat_user.acronym != "": %} [<span style="color: #{{invite.chat_user.color}}">{{invite.creator_chat_user.acronym}}</span>]{% endif %} (user number {{invite.creator_chat_user.number}}){% endif %}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{{pager()}}
{% else: %}
<p>Nobody has been invited to this chat.</p>
{% endif %}
<form action="{{url_for("rp_chat_invite", url=chat.url)}}" method="post">
    <p>Username: <input type="text" name="username" required> <button type="submit">Invite</button></p>
</form>
{% endblock %}

