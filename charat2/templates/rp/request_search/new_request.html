<h1>New request</h1>

<form action="{{url_for("rp_new_request_post")}}" method="post">
  <p><label>Saved character: <select name="character_id">
{% for character in characters: %}
    <option value="{{character.id}}"{% if character.id == selected_character: %} selected="selected"{% endif %}>{{character.title}}</option>
{% endfor %}
  </select></label></p>
  <h2>Tags</h2>
  <p>Enter some tags for your request, separated by commas:</p>
  <p><label>Maturity: <select name="maturity">
{% for name in Tag.maturity_names: %}
    <option value="{{name}}"{% if request.form.get("maturity") == name: %} selected="selected"{% endif %}>{{name.capitalize()}}</option>
{% endfor %}
  </select></label></p>
  <p><label>Trigger warnings: <input type="text" name="trigger" maxlength="500" value="{{request.form["trigger"]}}"></label></p>
  <p>Type:
{% for name in Tag.type_names: %}
    <label><input type="checkbox" name="type_{{name}}"{% if "type_"+name in request.form: %} checked="checked"{% endif %}> {{name.capitalize()}}</label>
{% endfor %}
  </p>
  <p><label>Fandom(s): <input type="text" name="fandom" maxlength="500" value="{{request.form["fandom"]}}"></label></p>
  <p><label>Character(s) you're playing: <input type="text" name="playing" maxlength="500" value="{{request.form["playing"]}}"></label></p>
  <p><label>Character(s) you're looking for: <input type="text" name="wanted" maxlength="500" value="{{request.form["wanted"]}}"></label></p>
  <p><label>Your character's gender(s): <input type="text" name="playing_gender" maxlength="500" value="{{request.form["playing_gender"]}}"></label></p>
  <p><label>Gender(s) you're looking for: <input type="text" name="wanted_gender" maxlength="500" value="{{request.form["wanted_gender"]}}"></label></p>
  <p><label>Any other tags: <input type="text" name="misc" maxlength="500" value="{{request.form["misc"]}}"></label></p>
  <h2>Info</h2>
{% if error == "blank" %}
  <p class="error">Please fill in at least one of scenario and prompt.</p>
{% endif %}
  <p><label for="request_scenario">Scenario:</label></p>
  <p><textarea id="request_scenario" name="scenario">{{request.form["scenario"]}}</textarea></p>
  <p><label for="request_prompt">Prompt:</label></p>
  <p><textarea id="request_prompt" name="prompt">{{request.form["prompt"]}}</textarea></p>
  <p><input type="submit" name="draft" value="Save as draft"> <input type="submit" name="post" value="Post request"></p>
</form>
