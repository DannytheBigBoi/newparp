<!DOCTYPE html>
<html>
    <head>
        <!-- Apple Icons -->
        <link rel="apple-touch-icon-precomposed" href="{{url_for('static', filename='img/favicons/rp/touch-icon-iphone-precomposed.png')}}" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="{{url_for('static', filename='img/favicons/rp/touch-icon-ipad-precomposed.png')}}">
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="{{url_for('static', filename='img/favicons/rp/touch-icon-iphone-retina-precomposed.png')}}">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="{{url_for('static', filename='img/favicons/rp/touch-icon-ipad-retina-precomposed.png')}}">

        <title>{%block title %}{% endblock %}Charat</title>
        <link rel="stylesheet" href="{{url_for("static", filename="css/charat.css")}}" type="text/css"/>
        <script src="{{url_for("static", filename="js/jquery.min.js")}}"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.3/angular.min.js"></script>
        <script src="{{url_for("static", filename="js/bbcode.js")}}"></script>
        <script src="{{url_for("static", filename="js/desktop-notify.js")}}"></script>
        <script src="{{url_for("static", filename="js/modernizr.localstorage.js")}}"></script>
        <script src="{{url_for("static", filename="js/quirks.js")}}"></script>
        <script>
            function NotificationCenter($scope) {
                var permissionLevels = {};
                permissionLevels[notify.PERMISSION_GRANTED] = 0;
                permissionLevels[notify.PERMISSION_DEFAULT] = 1;
                permissionLevels[notify.PERMISSION_DENIED] = 2;

                $scope.isSupported = notify.isSupported;
                $scope.permissionLevel = permissionLevels[notify.permissionLevel()];

                $scope.getClassName = function() {
                    if ($scope.permissionLevel === 0) {
                        return "allowed"
                    } else if ($scope.permissionLevel === 1) {
                        return "default"
                    } else {
                        return "denied"
                    }
                }
    
                $scope.callback = function() {
                    console.log("test");
                }
    
                $scope.requestPermissions = function() {
                    notify.requestPermission(function() {
                        $scope.$apply($scope.permissionLevel = permissionLevels[notify.permissionLevel()]);
                    })
                }
            }
    
            function show(title,body) {
                notify.createNotification(title, {body:body, icon: "{{url_for("static", filename="img/notification.png")}}", tag:title+body+Math.random(), timeout: 5000})
            }
        </script>
        <script src="{{url_for("static", filename="js/charat.js")}}"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        {%block header%}{%endblock%}
    </head>

    <body>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-12995701-3', 'charatrp.com');
            ga('send', 'pageview');
        </script>
        {%block content%}{% endblock %}
        <img src="http://c.statcounter.com/9263028/0/c19680e0/1/" alt="free hit counter" style="border:none;display:none;">
    </body>
</html>
